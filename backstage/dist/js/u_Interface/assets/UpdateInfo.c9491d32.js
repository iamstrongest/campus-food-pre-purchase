import{_,I as f,r as p,o as v,a as m,m as e,q as d,R as c,K as I,M as g,N as x}from"./index.6a0ffa21.js";import"./base.c10643b5.js";import{g as h}from"./el-message.8813f6db.js";import{d as U,g as w}from"./index.95142097.js";const u=l=>(g("data-v-8f91642f"),l=l(),x(),l),y={class:"info-container"},S=u(()=>e("h1",null,"\u66F4\u6539\u4E2A\u4EBA\u4FE1\u606F",-1)),b=I("\u6635\u79F0:"),V=u(()=>e("p",null,[e("label",null,[e("i",null,"\u4E2A\u4EBA\u7B80\u4ECB:")])],-1)),B=u(()=>e("button",null,"\u63D0\u4EA4",-1)),M={__name:"UpdateInfo",setup(l){const n=f(),a=p(),t=p(),i=async r=>{r.preventDefault(),console.log(a.value),t.value?t.value:t.value=n.userInfo.reduction;const{data:o}=await U(`users/${n.loginId}/update/personal`,a.value,t.value),{data:s}=await w(`users/${n.loginId}`);n.userInfo=s,a.value="",t.value="",h({message:o.message,type:"warning"})};return(r,o)=>(v(),m("div",y,[S,e("form",{onSubmit:i},[e("p",null,[e("label",null,[b,d(e("input",{type:"text",name:"",id:"","onUpdate:modelValue":o[0]||(o[0]=s=>a.value=s),placeholder:"\u8BF7\u8F93\u5165\u60A8\u60F3\u8981\u66F4\u6539\u7684\u6635\u79F0"},null,512),[[c,a.value]])])]),V,e("p",null,[d(e("textarea",{"onUpdate:modelValue":o[1]||(o[1]=s=>t.value=s)},null,512),[[c,t.value]])]),B],32)]))}},T=_(M,[["__scopeId","data-v-8f91642f"]]);export{T as default};
